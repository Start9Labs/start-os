<div class="action-buttons">
  <ion-button
    *ngIf="localPkg"
    expand="block"
    color="primary"
    [routerLink]="['/services', pkg.manifest.id]"
  >
    View Installed
  </ion-button>
  <ng-container *ngIf="localPkg; else install">
    <ng-container *ngIf="localPkg.state === PackageState.Installed">
      <ion-button
        *ngIf="(version | compareEmver: pkg.manifest.version) === -1"
        expand="block"
        color="success"
        (click)="presentModal('update')"
      >
        Update
      </ion-button>
      <ion-button
        *ngIf="(version | compareEmver: pkg.manifest.version) === 1"
        expand="block"
        color="warning"
        (click)="presentModal('downgrade')"
      >
        Downgrade
      </ion-button>
      <ng-container *ngIf="localStorageService.showDevTools$ | async">
        <ion-button
          *ngIf="(version | compareEmver: pkg.manifest.version) === 0"
          expand="block"
          color="success"
          (click)="tryInstall()"
        >
          Reinstall
        </ion-button>
      </ng-container>
    </ng-container>
  </ng-container>

  <ng-template #install>
    <ion-button expand="block" color="success" (click)="tryInstall()">
      Install
    </ion-button>
  </ng-template>
</div>
