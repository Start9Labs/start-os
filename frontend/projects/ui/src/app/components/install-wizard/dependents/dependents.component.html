<div *ngIf="loading$ | async" class="center-spinner">
  <ion-spinner color="warning" name="lines"></ion-spinner>
  <ion-label class="long-message">
    Checking for installed services which depend on
    {{ params.title }}...
  </ion-label>
</div>

<div *ngIf="!(loading$ | async) && !!dependentViolation" class="slide-content">
  <div class="wrapper">
    <div class="warning">
      <ion-label color="warning" class="label">WARNING</ion-label>
    </div>

    <div class="long-message">
      {{ dependentViolation }}
    </div>

    <div *ngIf="pkgs$ | async as pkgs" class="items">
      <div class="affected">
        <ion-text color="warning">Affected Services</ion-text>
      </div>

      <ion-item
        style="--ion-item-background: margin-top: 5px"
        *ngFor="let dep of dependentBreakages | keyvalue"
      >
        <ion-thumbnail class="thumbnail" slot="start">
          <img alt="" [src]="pkgs[dep.key]['static-files'].icon" />
        </ion-thumbnail>
        <ion-label>
          <h5>{{ pkgs[dep.key].manifest.title }}</h5>
        </ion-label>
      </ion-item>
    </div>
  </div>
</div>
