<ion-content>
  <ion-grid>
    <ion-row>
      <ion-col>

        <div style="padding-bottom: 32px;" class="ion-text-center">
          <img src="assets/png/logo.png" style="max-width: 240px;" />
        </div>

        <ion-card color="dark">
          <ion-card-header class="ion-text-center">
            <ion-card-title>Restore from Backup</ion-card-title>
            <ion-card-subtitle>Select the shared folder or physical drive containing your Embassy backup</ion-card-subtitle>
          </ion-card-header>

          <ion-card-content class="ion-margin">
            <ion-spinner *ngIf="loading" class="center-spinner" name="lines"></ion-spinner>

            <!-- loaded -->
            <ion-item-group *ngIf="!loading">
              <!-- cifs -->
              <h2 class="target-label">
                Shared Network Folder
              </h2>
              <p class="ion-padding-bottom">
                Using a shared folder is the recommended way to recover from backup, since it works with all Embassy hardware configurations.
                To restore from a shared folder, please follow the <a href="https://docs.start9.com/user-manual/general/backups.html" target="blank" noreferrer>instructions</a>.
              </p>

              <!-- connect -->
              <ion-item button lines="none" (click)="presentModalCifs()">
                <ion-icon slot="start" name="folder-open-outline" size="large" color="light"></ion-icon>
                <ion-label>Open Shared Folder</ion-label>
              </ion-item>

              <br />
              <br />

              <!-- drives -->
              <h2 class="target-label">
                Physical Drives
              </h2>
              <p class="ion-padding-bottom">
                Warning! Plugging in more than one physical drive to Embassy can lead to power failure and data corruption.
                To restore from a physical drive, please follow the <a href="https://docs.start9.com/user-manual/general/backups.html" target="blank" noreferrer>instructions</a>.
              </p>

              <ng-container *ngFor="let target of driveTargets">
                <ion-item button *ngIf="target.drive as drive" [disabled]="!driveClickable(drive)" (click)="select(drive)">
                  <ion-icon slot="start" name="save-outline" size="large" color="light"></ion-icon>
                  <ion-label>
                    <h1>{{ drive.label || drive.logicalname }}</h1>
                    <drive-status [hasValidBackup]="target.hasValidBackup"></drive-status>
                    <p>{{ drive.vendor || 'Unknown Vendor' }} - {{ drive.model || 'Unknown Model' }}</p>
                    <p>Capacity: {{ drive.capacity | convertBytes }}</p>
                  </ion-label>
                </ion-item>
              </ng-container>
            </ion-item-group>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
